# Step 2: Basic Authentication

You are implementing user authentication for Signify, building on the existing Authentication Zero foundation.

CONTEXT: This is step 2 of 16. Step 1 created the core data models (User, Document, Keystroke). The Rails app uses Authentication Zero, Inertia.js, and follows existing auth patterns.

REQUIREMENTS:
1. Extend the existing auth system to include:
   - User registration with display name
   - Enhanced user profile management
   - Session management with proper security

2. Create registration flow:
   - Registration form with email, password, display_name
   - Proper validation and error handling
   - Redirect to dashboard after successful registration

3. Enhance existing login/logout:
   - Ensure existing login works with new User model
   - Add "remember me" functionality if not present
   - Proper session cleanup on logout

4. Add authentication helpers:
   - before_action :authenticate_user! for protected routes
   - current_user helper method
   - Redirect unauthenticated users to sign-in

IMPLEMENTATION APPROACH:
- Build on existing Authentication Zero patterns
- Use Inertia.js for frontend forms
- Follow Rails security best practices
- Integrate with existing session management

TESTING REQUIREMENTS:
- Request specs for all auth endpoints
- System tests for complete auth flows
- Test authentication helpers and redirects
- Test session security and cleanup

DELIVERABLES:
- Enhanced registration controller and views
- Updated authentication helpers
- Inertia.js forms for registration/login
- Comprehensive test coverage
- Updated routes for new endpoints

Build authentication that integrates seamlessly with existing patterns while adding the display name functionality needed for user profiles.