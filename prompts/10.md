# Step 10: Publishing Workflow

You are implementing the document publishing system that creates immutable public posts.

CONTEXT: This is step 10 of 16. Document management and editing are complete. Now enable writers to publish their work with keystroke verification.

REQUIREMENTS:
1. Add publish button to editor:
   - Prominent "Publish" button in editor interface
   - Pre-publish validation (minimum content, title required)
   - Show publishing preview with estimated reading time
   - Confirmation dialog with publishing terms

2. Implement publishing process:
   - Change document status from draft to published
   - Set published_at timestamp
   - Generate unique public_slug for URL
   - Create immutable snapshot of content and keystrokes

3. Add publishing validation:
   - Minimum content length (e.g., 100 words)
   - Title must be present and non-empty
   - Must have keystroke data for verification
   - Prevent publishing of already published documents

4. Create post-publish workflow:
   - Redirect to published post view
   - Show success message with shareable URL
   - Disable editing of published content
   - Add "View Published Post" link in dashboard

IMPLEMENTATION APPROACH:
- Use Rails transactions for atomic publishing
- Implement proper validation chains
- Add comprehensive error handling
- Create clear user feedback

TESTING REQUIREMENTS:
- Tests for complete publishing workflow
- Validation and error handling tests
- Immutability tests for published content
- Integration tests for publish button flow

DELIVERABLES:
- Publishing workflow with validation
- Immutable published post creation
- Post-publish user experience
- Comprehensive test coverage

Implement publishing that creates trustworthy, immutable posts with complete keystroke verification.