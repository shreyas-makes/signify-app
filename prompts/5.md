# Step 5: Keystroke Capture

You are implementing real-time keystroke capture in the Signify editor.

CONTEXT: This is step 5 of 16. The basic editor exists and users can write/save content. Now add keystroke recording to prove human authorship.

REQUIREMENTS:
1. Implement keystroke event listeners:
   - Capture keydown and keyup events
   - Record precise timestamps (millisecond precision)
   - Track key codes and resulting characters
   - Handle special keys (backspace, delete, arrow keys)

2. Create keystroke data structure:
   - Event type (keydown/keyup)
   - Key code and character value
   - Timestamp relative to document start
   - Sequence number for ordering
   - Position in document when key was pressed

3. Add keystroke storage:
   - Store keystrokes in React component state
   - Maintain chronological order
   - Handle rapid typing without performance issues
   - Clear keystroke data when document is reset

4. Implement keystroke transmission:
   - Send keystroke arrays to backend with document saves
   - Batch keystrokes efficiently
   - Handle transmission failures gracefully
   - Store keystrokes in Keystroke model

IMPLEMENTATION APPROACH:
- Use native JavaScript event listeners
- Optimize for performance during rapid typing
- Use efficient data structures for storage
- Follow existing API patterns for data transmission

TESTING REQUIREMENTS:
- Unit tests for keystroke capture logic
- Tests for keystroke data formatting
- Integration tests with save functionality
- Performance tests for rapid typing scenarios

DELIVERABLES:
- Keystroke capture functionality in editor
- Backend API for receiving keystroke data
- Efficient storage and transmission
- Comprehensive test coverage

Implement keystroke capture that's invisible to the user but captures everything needed for verification.